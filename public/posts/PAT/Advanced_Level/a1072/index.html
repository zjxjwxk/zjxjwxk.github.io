<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>PAT甲级 1072 Gas Station (30分) | Xinkang&#39;s Blog</title>
<meta name="keywords" content="PAT, 最短路径">
<meta name="description" content="A gas station has to be built at such a location that the minimum distance between the station and any of the residential housing is as far away as possible. However it must guarantee that all the houses are in its service range.
Now given the map of the city and several candidate locations for the gas station, you are supposed to give the best recommendation. If there are more than one solution, output the one with the smallest average distance to all the houses. If such a solution is still not unique, output the one with the smallest index number.">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/posts/pat/advanced_level/a1072/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/pat/advanced_level/a1072/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Xinkang&#39;s Blog (Alt + H)">Xinkang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      PAT甲级 1072 Gas Station (30分)
    </h1>
    <div class="post-meta"><span title='2020-04-13 00:11:00 +0000 UTC'>April 13, 2020</span>

</div>
  </header> 
  <div class="post-content"><p>A gas station has to be built at such a location that the minimum distance between the station and any of the residential housing is as far away as possible. However it must guarantee that all the houses are in its service range.</p>
<p>Now given the map of the city and several candidate locations for the gas station, you are supposed to give the best recommendation. If there are more than one solution, output the one with the smallest average distance to all the houses. If such a solution is still not unique, output the one with the smallest index number.</p>
<h1 id="input-specification">Input Specification:<a hidden class="anchor" aria-hidden="true" href="#input-specification">#</a></h1>
<p>Each input file contains one test case. For each case, the first line contains 4 positive integers: <em>N</em> (≤10^3), the total number of houses; <em>M</em> (≤10), the total number of the candidate locations for the gas stations; <em>K</em> (≤ 10^4 ), the number of roads connecting the houses and the gas stations; and D <!-- raw HTML omitted -->S<!-- raw HTML omitted -->, the maximum service range of the gas station. It is hence assumed that all the houses are numbered from 1 to <em>N</em>, and all the candidate locations are numbered from <code>G</code>1 to <code>G</code><em>M</em>.</p>
<p>Then <em>K</em> lines follow, each describes a road in the format</p>
<pre tabindex="0"><code>P1 P2 Dist
</code></pre><p>where <code>P1</code> and <code>P2</code> are the two ends of a road which can be either house numbers or gas station numbers, and <code>Dist</code> is the integer length of the road.</p>
<h1 id="output-specification">Output Specification:<a hidden class="anchor" aria-hidden="true" href="#output-specification">#</a></h1>
<p>For each test case, print in the first line the index number of the best location. In the next line, print the minimum and the average distances between the solution and all the houses. The numbers in a line must be separated by a space and be accurate up to 1 decimal place. If the solution does not exist, simply output <code>No Solution</code>.</p>
<h1 id="sample-input-1">Sample Input 1:<a hidden class="anchor" aria-hidden="true" href="#sample-input-1">#</a></h1>
<pre tabindex="0"><code class="language-in" data-lang="in">4 3 11 5
1 2 2
1 4 2
1 G1 4
1 G2 3
2 3 2
2 G2 1
3 4 2
3 G3 2
4 G1 3
G2 G1 1
G3 G2 2
</code></pre><h1 id="sample-output-1">Sample Output 1:<a hidden class="anchor" aria-hidden="true" href="#sample-output-1">#</a></h1>
<pre tabindex="0"><code class="language-out" data-lang="out">G1
2.0 3.3
</code></pre><h1 id="sample-input-2">Sample Input 2:<a hidden class="anchor" aria-hidden="true" href="#sample-input-2">#</a></h1>
<pre tabindex="0"><code class="language-in" data-lang="in">2 1 2 10
1 G1 9
2 G1 20
</code></pre><h1 id="sample-output-2">Sample Output 2:<a hidden class="anchor" aria-hidden="true" href="#sample-output-2">#</a></h1>
<pre tabindex="0"><code class="language-out" data-lang="out">No Solution
</code></pre><h1 id="注意点">注意点<a hidden class="anchor" aria-hidden="true" href="#注意点">#</a></h1>
<ul>
<li>加油站和居民房的编号都有可能为两位数，所以字符串数组起码要开 4 个大小。</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> maxn <span style="color:#f92672">=</span> <span style="color:#ae81ff">1011</span>, INF <span style="color:#f92672">=</span> <span style="color:#ae81ff">1000000000</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> n, m, k, ds, G[maxn][maxn], d[maxn], minD <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, minG <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">double</span> minAvgD <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">bool</span> vis[maxn] <span style="color:#f92672">=</span> {false};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getIndex</span>(<span style="color:#66d9ef">char</span> str[]) {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, index <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (str[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;G&#39;</span>) {
</span></span><span style="display:flex;"><span>		i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">while</span> (str[i] <span style="color:#f92672">!=</span> <span style="color:#e6db74">&#39;\0&#39;</span>) {
</span></span><span style="display:flex;"><span>		index <span style="color:#f92672">=</span> index <span style="color:#f92672">*</span> <span style="color:#ae81ff">10</span> <span style="color:#f92672">+</span> str[i] <span style="color:#f92672">-</span> <span style="color:#e6db74">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>		i<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (str[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;G&#39;</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> n <span style="color:#f92672">+</span> index;
</span></span><span style="display:flex;"><span>	} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> index;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">Dijkstra</span>(<span style="color:#66d9ef">int</span> root) {
</span></span><span style="display:flex;"><span>	fill(d, d <span style="color:#f92672">+</span> maxn, INF);
</span></span><span style="display:flex;"><span>	fill(vis, vis <span style="color:#f92672">+</span> maxn, false);
</span></span><span style="display:flex;"><span>	d[root] <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n <span style="color:#f92672">+</span> m; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">int</span> u <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, min <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;=</span> n <span style="color:#f92672">+</span> m; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> (vis[j] <span style="color:#f92672">==</span> false <span style="color:#f92672">&amp;&amp;</span> d[j] <span style="color:#f92672">&lt;</span> min) {
</span></span><span style="display:flex;"><span>				min <span style="color:#f92672">=</span> d[j];
</span></span><span style="display:flex;"><span>				u <span style="color:#f92672">=</span> j;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> (u <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">return</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		vis[u] <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> v <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; v <span style="color:#f92672">&lt;=</span> n <span style="color:#f92672">+</span> m; v<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> (vis[v] <span style="color:#f92672">==</span> false <span style="color:#f92672">&amp;&amp;</span> G[u][v] <span style="color:#f92672">!=</span> INF <span style="color:#f92672">&amp;&amp;</span> d[u] <span style="color:#f92672">+</span> G[u][v] <span style="color:#f92672">&lt;</span> d[v]) {
</span></span><span style="display:flex;"><span>				d[v] <span style="color:#f92672">=</span> d[u] <span style="color:#f92672">+</span> G[u][v];
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#e6db74">&#34;%d %d %d %d&#34;</span>, <span style="color:#f92672">&amp;</span>n, <span style="color:#f92672">&amp;</span>m, <span style="color:#f92672">&amp;</span>k, <span style="color:#f92672">&amp;</span>ds);
</span></span><span style="display:flex;"><span>	fill(G[<span style="color:#ae81ff">0</span>], G[<span style="color:#ae81ff">0</span>] <span style="color:#f92672">+</span> maxn <span style="color:#f92672">*</span> maxn, INF);
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">char</span> str1[<span style="color:#ae81ff">4</span>], str2[<span style="color:#ae81ff">4</span>];
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">int</span> v1, v2, dist;
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> k; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#e6db74">&#34;%s %s %d&#34;</span>, str1, str2, <span style="color:#f92672">&amp;</span>dist);
</span></span><span style="display:flex;"><span>		v1 <span style="color:#f92672">=</span> getIndex(str1);
</span></span><span style="display:flex;"><span>		v2 <span style="color:#f92672">=</span> getIndex(str2);
</span></span><span style="display:flex;"><span>		G[v1][v2] <span style="color:#f92672">=</span> G[v2][v1] <span style="color:#f92672">=</span> dist;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;=</span> n <span style="color:#f92672">+</span> m; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>		Dijkstra(i);
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">double</span> tempAvgD <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">int</span> tempMinD <span style="color:#f92672">=</span> INF;
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; j <span style="color:#f92672">&lt;=</span> n; j<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> (d[j] <span style="color:#f92672">&gt;</span> ds) {
</span></span><span style="display:flex;"><span>				tempMinD <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>; 
</span></span><span style="display:flex;"><span>				<span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> (d[j] <span style="color:#f92672">&lt;</span> tempMinD) {
</span></span><span style="display:flex;"><span>				tempMinD <span style="color:#f92672">=</span> d[j];
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			tempAvgD <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1.0</span> <span style="color:#f92672">*</span> d[j] <span style="color:#f92672">/</span> n;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">if</span> (tempMinD <span style="color:#f92672">!=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#66d9ef">if</span> (tempMinD <span style="color:#f92672">&gt;</span> minD) {
</span></span><span style="display:flex;"><span>				minD <span style="color:#f92672">=</span> tempMinD;
</span></span><span style="display:flex;"><span>				minG <span style="color:#f92672">=</span> i <span style="color:#f92672">-</span> n;
</span></span><span style="display:flex;"><span>				minAvgD <span style="color:#f92672">=</span> tempAvgD;
</span></span><span style="display:flex;"><span>			} <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (tempMinD <span style="color:#f92672">==</span> minD <span style="color:#f92672">&amp;&amp;</span> tempAvgD <span style="color:#f92672">&lt;</span> minAvgD) {
</span></span><span style="display:flex;"><span>				minG <span style="color:#f92672">=</span> i <span style="color:#f92672">-</span> n;
</span></span><span style="display:flex;"><span>				minAvgD <span style="color:#f92672">=</span> tempAvgD;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">if</span> (minG <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>		printf(<span style="color:#e6db74">&#34;No Solution&#34;</span>);
</span></span><span style="display:flex;"><span>	} <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>		printf(<span style="color:#e6db74">&#34;G%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, minG);
</span></span><span style="display:flex;"><span>		printf(<span style="color:#e6db74">&#34;%.1f %.1f&#34;</span>, <span style="color:#ae81ff">1.0</span> <span style="color:#f92672">*</span> minD, minAvgD);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/pat/">PAT</a></li>
      <li><a href="http://localhost:1313/tags/%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/">最短路径</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Xinkang&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
