<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>PAT甲级 1095 Cars on Campus (30分) | Xinkang&#39;s Blog</title>
<meta name="keywords" content="PAT, 排序">
<meta name="description" content="Zhejiang University has 8 campuses and a lot of gates. From each gate we can collect the in/out times and the plate numbers of the cars crossing the gate. Now with all the information available, you are supposed to tell, at any specific time point, the number of cars parking on campus, and at the end of the day find the cars that have parked for the longest time period.">
<meta name="author" content="">
<link rel="canonical" href="https://zjxjwxk.github.io/posts/pat/advanced_level/a1095/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://zjxjwxk.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://zjxjwxk.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://zjxjwxk.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://zjxjwxk.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://zjxjwxk.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://zjxjwxk.github.io/posts/pat/advanced_level/a1095/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://zjxjwxk.github.io/posts/pat/advanced_level/a1095/">
  <meta property="og:site_name" content="Xinkang&#39;s Blog">
  <meta property="og:title" content="PAT甲级 1095 Cars on Campus (30分)">
  <meta property="og:description" content="Zhejiang University has 8 campuses and a lot of gates. From each gate we can collect the in/out times and the plate numbers of the cars crossing the gate. Now with all the information available, you are supposed to tell, at any specific time point, the number of cars parking on campus, and at the end of the day find the cars that have parked for the longest time period.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2020-03-22T17:24:00+00:00">
    <meta property="article:modified_time" content="2020-03-22T17:24:00+00:00">
    <meta property="article:tag" content="PAT">
    <meta property="article:tag" content="排序">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PAT甲级 1095 Cars on Campus (30分)">
<meta name="twitter:description" content="Zhejiang University has 8 campuses and a lot of gates. From each gate we can collect the in/out times and the plate numbers of the cars crossing the gate. Now with all the information available, you are supposed to tell, at any specific time point, the number of cars parking on campus, and at the end of the day find the cars that have parked for the longest time period.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://zjxjwxk.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "PAT甲级 1095 Cars on Campus (30分)",
      "item": "https://zjxjwxk.github.io/posts/pat/advanced_level/a1095/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "PAT甲级 1095 Cars on Campus (30分)",
  "name": "PAT甲级 1095 Cars on Campus (30分)",
  "description": "Zhejiang University has 8 campuses and a lot of gates. From each gate we can collect the in/out times and the plate numbers of the cars crossing the gate. Now with all the information available, you are supposed to tell, at any specific time point, the number of cars parking on campus, and at the end of the day find the cars that have parked for the longest time period.\n",
  "keywords": [
    "PAT", "排序"
  ],
  "articleBody": "Zhejiang University has 8 campuses and a lot of gates. From each gate we can collect the in/out times and the plate numbers of the cars crossing the gate. Now with all the information available, you are supposed to tell, at any specific time point, the number of cars parking on campus, and at the end of the day find the cars that have parked for the longest time period.\nInput Specification: Each input file contains one test case. Each case starts with two positive integers N (≤ {10^4}), the number of records, and K (≤ 8×10^4) the number of queries. Then N lines follow, each gives a record in the format:\nplate_number hh:mm:ss status where plate_number is a string of 7 English capital letters or 1-digit numbers; hh:mm:ss represents the time point in a day by hour:minute:second, with the earliest time being 00:00:00 and the latest 23:59:59; and status is either in or out.\nNote that all times will be within a single day. Each in record is paired with the chronologically next record for the same car provided it is an out record. Any in records that are not paired with an out record are ignored, as are out records not paired with an in record. It is guaranteed that at least one car is well paired in the input, and no car is both in and out at the same moment. Times are recorded using a 24-hour clock.\nThen K lines of queries follow, each gives a time point in the format hh:mm:ss. Note: the queries are given in ascending order of the times.\nOutput Specification: For each query, output in a line the total number of cars parking on campus. The last line of output is supposed to give the plate number of the car that has parked for the longest time period, and the corresponding time length. If such a car is not unique, then output all of their plate numbers in a line in alphabetical order, separated by a space.\nSample Input: 16 7 JH007BD 18:00:01 in ZD00001 11:30:08 out DB8888A 13:00:00 out ZA3Q625 23:59:50 out ZA133CH 10:23:00 in ZD00001 04:09:59 in JH007BD 05:09:59 in ZA3Q625 11:42:01 out JH007BD 05:10:33 in ZA3Q625 06:30:50 in JH007BD 12:23:42 out ZA3Q625 23:55:00 in JH007BD 12:24:23 out ZA133CH 17:11:22 out JH007BD 18:07:01 out DB8888A 06:30:50 in 05:10:00 06:30:50 11:00:00 12:23:42 14:00:00 18:00:00 23:59:00 Sample Output: 1 4 5 2 1 0 1 JH007BD ZD00001 07:20:09 思路 将时间统一转换为秒，方便比较；将 “in” 状态表示为1，“out” 状态表示为-1，方便停车数 cnt 的计算（即 cnt += status） 将记录的结构体数组，根据先 id，后 time 的顺序进行排序。然后从中找出合法的记录，加入 vector，顺便用 map 存储各个车辆的总停车时长，并记录最大中停车时长 然后输入查询时间，每输入一个查询 id，就接着上次遍历这个 vector，一边遍历，一边计算当前停车数 cnt，直到当前时间大于查询时间，即可输出 cnt 最后，再遍历一遍 map，输出所有等于 maxLen 的车辆 id（map 已根据 id 的字母顺序自动排序） 注意点 最长停车时长（parked for the longest time period），指的是一辆车在一天中的总停车时长，而不是指某一次停车的时长 如果一辆车多次 in，应该取最后一个 in 记录；如果一辆车多次 out，应该取第一个 out 记录 #include #include #include #include #include using namespace std; const int maxn = 10000; struct Record { char id[8]; int time, status; } records[maxn]; vector\u003cRecord\u003e vec; map\u003cstring, int\u003e lenMap; int cmpByIdAndTime(Record r1, Record r2) { int strCmp = strcmp(r1.id, r2.id); if (strCmp != 0) { return strCmp \u003c 0; } else { return r1.time \u003c r2.time; } } int cmpByTime(Record r1, Record r2) { return r1.time \u003c r2.time; } int main() { int n, k, hour, min, sec, time, cnt = 0, maxLen = -1, j = 0; scanf(\"%d %d\", \u0026n, \u0026k); char status[3]; for (int i = 0; i \u003c n; i++) { scanf(\"%s %d:%d:%d %s\", records[i].id, \u0026hour, \u0026min, \u0026sec, status); records[i].time = hour * 3600 + min * 60 + sec; if (strcmp(status, \"in\") == 0) { records[i].status = 1; } else { records[i].status = -1; } } sort(records, records + n, cmpByIdAndTime); for (int i = 1; i \u003c n; i++) { if (strcmp(records[i].id, records[i - 1].id) == 0 \u0026\u0026 records[i - 1].status == 1 \u0026\u0026 records[i].status == -1) { vec.push_back(records[i - 1]); vec.push_back(records[i]); lenMap[records[i].id] += records[i].time - records[i - 1].time; if (lenMap[records[i].id] \u003e maxLen) { maxLen = lenMap[records[i].id]; } } } sort(vec.begin(), vec.end(), cmpByTime); for (int i = 0; i \u003c k; i++) { scanf(\"%d:%d:%d\", \u0026hour, \u0026min, \u0026sec); time = hour * 60 * 60 + min * 60 + sec; while (j \u003c vec.size() \u0026\u0026 vec[j].time \u003c= time) { cnt += vec[j].status; j++; } printf(\"%d\\n\", cnt); } for (auto it : lenMap) { if (it.second == maxLen) { printf(\"%s \", it.first.c_str()); } } printf(\"%02d:%02d:%02d\", maxLen / 3600, maxLen % 3600 / 60, maxLen % 60); return 0; } ",
  "wordCount" : "729",
  "inLanguage": "en",
  "datePublished": "2020-03-22T17:24:00Z",
  "dateModified": "2020-03-22T17:24:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://zjxjwxk.github.io/posts/pat/advanced_level/a1095/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Xinkang's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://zjxjwxk.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zjxjwxk.github.io/" accesskey="h" title="Xinkang&#39;s Blog (Alt + H)">Xinkang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zjxjwxk.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://zjxjwxk.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://zjxjwxk.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://zjxjwxk.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      PAT甲级 1095 Cars on Campus (30分)
    </h1>
    <div class="post-meta"><span title='2020-03-22 17:24:00 +0000 UTC'>March 22, 2020</span>

</div>
  </header> 
  <div class="post-content"><p>Zhejiang University has 8 campuses and a lot of gates. From each gate we can collect the in/out times and the plate numbers of the cars crossing the gate. Now with all the information available, you are supposed to tell, at any specific time point, the number of cars parking on campus, and at the end of the day find the cars that have parked for the longest time period.</p>
<h1 id="input-specification">Input Specification:<a hidden class="anchor" aria-hidden="true" href="#input-specification">#</a></h1>
<p>Each input file contains one test case. Each case starts with two positive integers <em>N</em> (≤ {10^4}), the number of records, and <em>K</em> (≤ 8×10^4) the number of queries. Then <em>N</em> lines follow, each gives a record in the format:</p>
<pre tabindex="0"><code>plate_number hh:mm:ss status
</code></pre><p>where <code>plate_number</code> is a string of 7 English capital letters or 1-digit numbers; <code>hh:mm:ss</code> represents the time point in a day by hour:minute:second, with the earliest time being <code>00:00:00</code> and the latest <code>23:59:59</code>; and <code>status</code> is either <code>in</code> or <code>out</code>.</p>
<p>Note that all times will be within a single day. Each <code>in</code> record is paired with the chronologically next record for the same car provided it is an <code>out</code> record. Any <code>in</code> records that are not paired with an <code>out</code> record are ignored, as are <code>out</code> records not paired with an <code>in</code> record. It is guaranteed that at least one car is well paired in the input, and no car is both <code>in</code> and <code>out</code> at the same moment. Times are recorded using a 24-hour clock.</p>
<p>Then <em>K</em> lines of queries follow, each gives a time point in the format <code>hh:mm:ss</code>. Note: the queries are given in <strong>ascending</strong> order of the times.</p>
<h1 id="output-specification">Output Specification:<a hidden class="anchor" aria-hidden="true" href="#output-specification">#</a></h1>
<p>For each query, output in a line the total number of cars parking on campus. The last line of output is supposed to give the plate number of the car that has parked for the longest time period, and the corresponding time length. If such a car is not unique, then output all of their plate numbers in a line in alphabetical order, separated by a space.</p>
<h1 id="sample-input">Sample Input:<a hidden class="anchor" aria-hidden="true" href="#sample-input">#</a></h1>
<pre tabindex="0"><code class="language-in" data-lang="in">16 7
JH007BD 18:00:01 in
ZD00001 11:30:08 out
DB8888A 13:00:00 out
ZA3Q625 23:59:50 out
ZA133CH 10:23:00 in
ZD00001 04:09:59 in
JH007BD 05:09:59 in
ZA3Q625 11:42:01 out
JH007BD 05:10:33 in
ZA3Q625 06:30:50 in
JH007BD 12:23:42 out
ZA3Q625 23:55:00 in
JH007BD 12:24:23 out
ZA133CH 17:11:22 out
JH007BD 18:07:01 out
DB8888A 06:30:50 in
05:10:00
06:30:50
11:00:00
12:23:42
14:00:00
18:00:00
23:59:00
</code></pre><h1 id="sample-output">Sample Output:<a hidden class="anchor" aria-hidden="true" href="#sample-output">#</a></h1>
<pre tabindex="0"><code class="language-out" data-lang="out">1
4
5
2
1
0
1
JH007BD ZD00001 07:20:09
</code></pre><h1 id="思路">思路<a hidden class="anchor" aria-hidden="true" href="#思路">#</a></h1>
<ul>
<li>将时间统一转换为秒，方便比较；将 “in” 状态表示为1，“out” 状态表示为-1，方便停车数 cnt 的计算（即 cnt += status）</li>
<li>将记录的结构体数组，根据先 id，后 time 的顺序进行排序。然后从中找出合法的记录，加入 vector，顺便用 map&lt;string, int&gt; 存储各个车辆的总停车时长，并记录最大中停车时长</li>
<li>然后输入查询时间，每输入一个查询 id，就接着上次遍历这个 vector，一边遍历，一边计算当前停车数 cnt，直到当前时间大于查询时间，即可输出 cnt</li>
<li>最后，再遍历一遍 map，输出所有等于 maxLen 的车辆 id（map 已根据 id 的字母顺序自动排序）</li>
</ul>
<h1 id="注意点">注意点<a hidden class="anchor" aria-hidden="true" href="#注意点">#</a></h1>
<ul>
<li>最长停车时长（parked for the longest time period），指的是一辆车在一天中的总停车时长，而不是指某一次停车的时长</li>
<li>如果一辆车多次 in，应该取最后一个 in 记录；如果一辆车多次 out，应该取第一个 out 记录</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstdio&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;cstring&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;algorithm&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;map&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">using</span> <span style="color:#66d9ef">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">int</span> maxn <span style="color:#f92672">=</span> <span style="color:#ae81ff">10000</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">Record</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> id[<span style="color:#ae81ff">8</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> time, status;
</span></span><span style="display:flex;"><span>} records[maxn];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>vector<span style="color:#f92672">&lt;</span>Record<span style="color:#f92672">&gt;</span> vec;
</span></span><span style="display:flex;"><span>map<span style="color:#f92672">&lt;</span>string, <span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> lenMap;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmpByIdAndTime</span>(Record r1, Record r2) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> strCmp <span style="color:#f92672">=</span> strcmp(r1.id, r2.id);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (strCmp <span style="color:#f92672">!=</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> strCmp <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> r1.time <span style="color:#f92672">&lt;</span> r2.time;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">cmpByTime</span>(Record r1, Record r2) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> r1.time <span style="color:#f92672">&lt;</span> r2.time;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> n, k, hour, min, sec, time, cnt <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, maxLen <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>, j <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    scanf(<span style="color:#e6db74">&#34;%d %d&#34;</span>, <span style="color:#f92672">&amp;</span>n, <span style="color:#f92672">&amp;</span>k);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">char</span> status[<span style="color:#ae81ff">3</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#e6db74">&#34;%s %d:%d:%d %s&#34;</span>, records[i].id, <span style="color:#f92672">&amp;</span>hour, <span style="color:#f92672">&amp;</span>min, <span style="color:#f92672">&amp;</span>sec, status);
</span></span><span style="display:flex;"><span>        records[i].time <span style="color:#f92672">=</span> hour <span style="color:#f92672">*</span> <span style="color:#ae81ff">3600</span> <span style="color:#f92672">+</span> min <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">+</span> sec;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (strcmp(status, <span style="color:#e6db74">&#34;in&#34;</span>) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>) {
</span></span><span style="display:flex;"><span>            records[i].status <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        } <span style="color:#66d9ef">else</span> {
</span></span><span style="display:flex;"><span>            records[i].status <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    sort(records, records <span style="color:#f92672">+</span> n, cmpByIdAndTime);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> n; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (strcmp(records[i].id, records[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>].id) <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">&amp;&amp;</span> records[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>].status <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">&amp;&amp;</span> records[i].status <span style="color:#f92672">==</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>) {
</span></span><span style="display:flex;"><span>            vec.push_back(records[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]);
</span></span><span style="display:flex;"><span>            vec.push_back(records[i]);
</span></span><span style="display:flex;"><span>            lenMap[records[i].id] <span style="color:#f92672">+=</span> records[i].time <span style="color:#f92672">-</span> records[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>].time;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> (lenMap[records[i].id] <span style="color:#f92672">&gt;</span> maxLen) {
</span></span><span style="display:flex;"><span>                maxLen <span style="color:#f92672">=</span> lenMap[records[i].id];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    sort(vec.begin(), vec.end(), cmpByTime);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> k; i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#e6db74">&#34;%d:%d:%d&#34;</span>, <span style="color:#f92672">&amp;</span>hour, <span style="color:#f92672">&amp;</span>min, <span style="color:#f92672">&amp;</span>sec);
</span></span><span style="display:flex;"><span>        time <span style="color:#f92672">=</span> hour <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">+</span> min <span style="color:#f92672">*</span> <span style="color:#ae81ff">60</span> <span style="color:#f92672">+</span> sec;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (j <span style="color:#f92672">&lt;</span> vec.size() <span style="color:#f92672">&amp;&amp;</span> vec[j].time <span style="color:#f92672">&lt;=</span> time) {
</span></span><span style="display:flex;"><span>            cnt <span style="color:#f92672">+=</span> vec[j].status;
</span></span><span style="display:flex;"><span>            j<span style="color:#f92672">++</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        printf(<span style="color:#e6db74">&#34;%d</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, cnt);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">auto</span> it : lenMap) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (it.second <span style="color:#f92672">==</span> maxLen) {
</span></span><span style="display:flex;"><span>            printf(<span style="color:#e6db74">&#34;%s &#34;</span>, it.first.c_str());
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#e6db74">&#34;%02d:%02d:%02d&#34;</span>, maxLen <span style="color:#f92672">/</span> <span style="color:#ae81ff">3600</span>, maxLen <span style="color:#f92672">%</span> <span style="color:#ae81ff">3600</span> <span style="color:#f92672">/</span> <span style="color:#ae81ff">60</span>, maxLen <span style="color:#f92672">%</span> <span style="color:#ae81ff">60</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://zjxjwxk.github.io/tags/pat/">PAT</a></li>
      <li><a href="https://zjxjwxk.github.io/tags/%E6%8E%92%E5%BA%8F/">排序</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://zjxjwxk.github.io/">Xinkang&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
