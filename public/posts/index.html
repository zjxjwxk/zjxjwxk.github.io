<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | Xinkang&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - Xinkang&#39;s Blog">
<meta name="author" content="">
<link rel="canonical" href="https://zjxjwxk.github.io/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css" integrity="sha256-1vzSCk&#43;4bvpN&#43;sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://zjxjwxk.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://zjxjwxk.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://zjxjwxk.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://zjxjwxk.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://zjxjwxk.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://zjxjwxk.github.io/posts/index.xml">
<link rel="alternate" hreflang="en" href="https://zjxjwxk.github.io/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-9CMXGMMTKX"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-9CMXGMMTKX');
        }
      </script><meta property="og:url" content="https://zjxjwxk.github.io/posts/">
  <meta property="og:site_name" content="Xinkang&#39;s Blog">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Posts">
<meta name="twitter:description" content="">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://zjxjwxk.github.io/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://zjxjwxk.github.io/" accesskey="h" title="Xinkang&#39;s Blog (Alt + H)">Xinkang&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://zjxjwxk.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://zjxjwxk.github.io/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://zjxjwxk.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://zjxjwxk.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://zjxjwxk.github.io/">Home</a></div>
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">åŸºäº SPI æœºåˆ¶å®ç° ShardingJDBC çš„ Nacos æ•°æ®æºé…ç½®
    </h2>
  </header>
  <div class="entry-content">
    <p>ShardingJDBC çš„é…ç½®æºè·¯å¾„ SPI æœºåˆ¶ ç”±äºæœ€æ–°ç‰ˆæœ¬ ShardingJDBC ä¸å†æ”¯æŒåŸºäº Nacos ä½œä¸ºé…ç½®æ•°æ®æºçš„åŠŸèƒ½ï¼Œå¯ä»¥ä» ShardingSphere JDBC çš„ä¾èµ–åŒ…ä¸­è§‚å¯Ÿåˆ°ï¼Œå…¶æ•°æ®æºé…ç½®çš„è·å–æ¥å£ org.apache.shardingsphere.driver.jdbc.core.driver.ShardingSphereDriverURLProvider é‡‡ç”¨äº† SPI æœºåˆ¶ï¼Œä½†å…¶é»˜è®¤ä»…å®ç°äº†ä»¥ä¸‹å‡ ç§é…ç½®è·å–æ–¹å¼ï¼š AbsolutePathDriverURLProviderï¼ˆç»å¯¹è·¯å¾„ï¼‰ã€ClasspathDriverURLProvider ï¼ˆClass Path è·¯å¾„ï¼‰ å’Œ ApolloDriverURLProvider ï¼ˆApollo è·¯å¾„ï¼‰ã€‚
å› æ­¤éœ€è¦è‡ªè¡ŒåŸºäº ShardingJDBC çš„ SPI æœºåˆ¶å¯¹ ShardingJDBC è¿›è¡ŒäºŒæ¬¡å¼€å‘ï¼Œä»¥å®ç°ä» Nacos è·å–æ•°æ®æºé…ç½®æ–‡ä»¶ã€‚
ShardingJDBC é…ç½®è·å–çš„æºç åˆ†æ æ ¹æ®è¯¥æ¥å£çš„åŒ…è·¯å¾„ org.apache.shardingsphere.driver.jdbc.core.driver ï¼Œå¯ä»¥æ‰¾åˆ°å…¶æ¥å£åŠå…¶å®ç°ç±»ï¼Œè¯¥æ¥å£åŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼š
boolean accept(String url)ï¼šæ ¡éªŒå½“å‰ url æ˜¯å¦åº”è¯¥ä½¿ç”¨å½“å‰ç±»è·å–é…ç½® byte[] getContent(String url)ï¼šä»è¯¥ url è·å–é…ç½®æ–‡ä»¶ï¼Œå¹¶è¿”å›å­—èŠ‚æ•°ç»„ å¦‚æœå°†é…ç½®æ–‡ä»¶ db-sharding.yaml æ”¾åœ¨ src/main/resources ç›®å½•ä¸‹ï¼Œå¹¶ä½¿ç”¨ classpath ä½œä¸ºé…ç½®æ–‡ä»¶çš„è·¯å¾„ï¼ˆå¦‚ spring.datasource.url=jdbc:shardingsphere:classpath:db-sharding.yamlï¼‰ï¼Œå¹¶åœ¨ ClasspathDriverURLProvider ç±»çš„ accept æ–¹æ³•ä¸­æ‰“æ–­ç‚¹å¹¶å¯åŠ¨æœåŠ¡ï¼Œå¯ä»¥å‘ç°åœ¨ä¸Šå±‚ä½¿ç”¨äº† ShardingSphereDriverURLManager ç±»æ¥å¯¹æ¯ä¸ªå®ç°ç±»è¿›è¡Œéå†ï¼Œåˆ†åˆ«è°ƒç”¨ accept æ ¡éªŒå½“å‰ url æ˜¯å¦é€‚ç”¨äºå½“å‰ç±»ï¼Œè‹¥é€‚ç”¨åˆ™è°ƒç”¨å…¶ getContent æ–¹æ³•ä»è¯¥ url è·å–ç›¸åº”çš„é…ç½®æ–‡ä»¶ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2026-01-20 23:39:00 +0800 CST'>January 20, 2026</span>&nbsp;Â·&nbsp;3 min</footer>
  <a class="entry-link" aria-label="post link to åŸºäº SPI æœºåˆ¶å®ç° ShardingJDBC çš„ Nacos æ•°æ®æºé…ç½®" href="https://zjxjwxk.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/shardingjdbc/%E5%9F%BA%E4%BA%8E-spi-%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0-shardingjdbc-%E7%9A%84-nacos-%E6%95%B0%E6%8D%AE%E6%BA%90%E9%85%8D%E7%BD%AE/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Docker éƒ¨ç½² Dubbo å¾®æœåŠ¡
    </h2>
  </header>
  <div class="entry-content">
    <p>Docker éƒ¨ç½² Nacos æ³¨å†Œä¸­å¿ƒ é¦–å…ˆéœ€è¦éƒ¨ç½² Nacos æ³¨å†Œä¸­å¿ƒï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸­è¿è¡Œ Nacos å•æœºæ¨¡å¼ï¼Œæ‰§è¡Œä»¥ä¸‹ Docker å‘½ä»¤æ‹‰å–é•œåƒå¹¶è¿è¡Œå®¹å™¨ï¼š
docker run -d \ --name nacos-server \ -p 8848:8848 \ -p 9848:9848 \ -e MODE=standalone \ nacos/nacos-server:2.0.2 éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨æ¨¡æ‹ŸåŸŸåï¼ˆé…ç½®åœ¨ /etc/hosts ä¸­ï¼‰è®¿é—® Docker å®¹å™¨ä¸­çš„ Nacos æœåŠ¡ï¼Œå½“å¼€å¯äº† socks ç­‰ä»£ç†æœåŠ¡æ—¶ï¼Œå¯èƒ½å¯¼è‡´è®¿é—®å¤±è´¥ã€‚è‹¥ä½¿ç”¨äº†å¦‚ clash ç­‰ä»£ç†æœåŠ¡ï¼Œå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­å…³é—­å…¶ dns åŠŸèƒ½ï¼Œå¹¶é…ç½®è¯¥æ¨¡æ‹ŸåŸŸåä¸ºç›´è¿ï¼š
dns: enable: false ... rules: - DOMAIN-SUFFIX,live.zjxjwxk.com,ğŸ¯ å…¨çƒç›´è¿ è‹¥éƒ¨ç½²æˆåŠŸï¼Œå¯ä»¥é€šè¿‡ localhost:8848/nacos/index.html è®¿é—® Nacos æ§åˆ¶å°é¡µé¢ã€‚
Maven æ’ä»¶é…ç½® åœ¨éœ€è¦éƒ¨ç½²çš„å¾®æœåŠ¡çš„ pom.xml æ–‡ä»¶ä¸­é…ç½®å¦‚ä¸‹æ’ä»¶ï¼Œç”¨äºåœ¨ Maven æ‰“åŒ…çš„åŒæ—¶æ„å»º Docker é•œåƒï¼š
&lt;build&gt; &lt;finalName&gt;${artifactId}-docker&lt;/finalName&gt; &lt;plugins&gt; &lt;plugin&gt; &lt;groupId&gt;com.spotify&lt;/groupId&gt; &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt; &lt;version&gt;1.2.0&lt;/version&gt; &lt;executions&gt; &lt;!--å½“mvnæ‰§è¡Œinstallæ“ä½œçš„æ—¶å€™ï¼Œæ‰§è¡Œdockerçš„build--&gt; &lt;execution&gt; &lt;id&gt;build&lt;/id&gt; &lt;phase&gt;install&lt;/phase&gt; &lt;goals&gt; &lt;goal&gt;build&lt;/goal&gt; &lt;/goals&gt; &lt;/execution&gt; &lt;/executions&gt; &lt;configuration&gt; &lt;imageTags&gt; &lt;imageTag&gt;${project.version}&lt;/imageTag&gt; &lt;/imageTags&gt; &lt;imageName&gt;${project.build.finalName}&lt;/imageName&gt; &lt;!--æŒ‡å®šDockerfileæ–‡ä»¶çš„ä½ç½®--&gt; &lt;dockerDirectory&gt;${project.basedir}/docker&lt;/dockerDirectory&gt; &lt;!--æŒ‡å®šjaråŒ…è·¯å¾„ï¼Œè¿™é‡Œå¯¹åº”Dockerfileä¸­å¤åˆ¶jaråŒ… åˆ°dockerå®¹å™¨æŒ‡å®šç›®å½•é…ç½®ï¼Œä¹Ÿå¯ä»¥å†™åˆ°Dockerfileä¸­--&gt; &lt;resources&gt; &lt;resource&gt; &lt;targetPath&gt;/&lt;/targetPath&gt; &lt;!--å°†ä¸‹è¾¹ç›®å½•çš„å†…å®¹ï¼Œæ‹·è´åˆ°dockeré•œåƒä¸­--&gt; &lt;directory&gt;${project.build.directory}&lt;/directory&gt; &lt;include&gt;${project.build.finalName}.jar&lt;/include&gt; &lt;/resource&gt; &lt;/resources&gt; &lt;/configuration&gt; &lt;/plugin&gt; &lt;plugin&gt; &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; &lt;/plugin&gt; &lt;/plugins&gt; &lt;/build&gt; ç¼–å†™ Dockerfile æ–‡ä»¶ åœ¨éœ€è¦éƒ¨ç½²çš„å¾®æœåŠ¡ç›®å½•ä¸‹åˆ›å»º docker æ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹åˆ›å»ºå¦‚ä¸‹ Dockerfile æ–‡ä»¶ï¼ˆè·¯å¾„ä¸ pom.xml ä¸­çš„ ${project.basedir}/docker ä¸€è‡´ï¼‰ï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2026-01-03 22:30:00 +0800 CST'>January 3, 2026</span>&nbsp;Â·&nbsp;2 min</footer>
  <a class="entry-link" aria-label="post link to Docker éƒ¨ç½² Dubbo å¾®æœåŠ¡" href="https://zjxjwxk.github.io/posts/nacos/docker-%E9%83%A8%E7%BD%B2-dubbo-%E5%BE%AE%E6%9C%8D%E5%8A%A1/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Docker å®¹å™¨ä¸‹çš„ MySQL ä¸»ä»åŒæ­¥
    </h2>
  </header>
  <div class="entry-content">
    <p>åˆ›å»ºå®¿ä¸»æœº Docker å®¹å™¨æŒ‚è½½ç›®å½• mkdir -p /var/lib/mysql/master1/conf mkdir -p /var/lib/mysql/master1/data mkdir -p /var/lib/mysql/slave1/conf mkdir -p /var/lib/mysql/slave1/data åˆ›å»º MySQL ä¸»ä»é…ç½®æ–‡ä»¶ åˆ›å»ºä¸»åº“é…ç½®æ–‡ä»¶ï¼ˆå®¿ä¸»æœºè·¯å¾„ä¸º /var/lib/mysql/master1/conf/my.cnfï¼‰ï¼š
[mysqld] character-set-server = utf8 lower-case-table-names = 1 # ä¸»ä»å¤åˆ¶,ä¸»æœºé…ç½®,ä¸»æœåŠ¡å™¨å”¯ä¸€ID server-id = 1 # å¯ç”¨äºŒè¿›åˆ¶æ—¥å¿— log-bin=mysql-bin # è®¾ç½®logbinæ ¼å¼ binlog_format = STATEMENT åˆ›å»ºä»åº“é…ç½®æ–‡ä»¶ï¼ˆå®¿ä¸»æœºè·¯å¾„ï¼š/var/lib/mysql/slave1/conf/my.cnfï¼‰ï¼š
[mysqld] character-set-server = utf8 lower-case-table-names = 1 # ä¸»ä»å¤åˆ¶,ä»æœºé…ç½®,ä»æœåŠ¡å™¨å”¯ä¸€ID server-id = 2 # å¯ç”¨ä¸­ç»§æ—¥å¿— relay-log = mysql-relay æˆæƒæ–‡ä»¶å¤¹ï¼š
chmod -R 777 /var/lib/mysql éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸»ä»çš„ my.cnf æ–‡ä»¶æƒé™ä¸èƒ½ä¸º 777ï¼Œå¦åˆ™ my.cnf æ–‡ä»¶æ— æ³•åœ¨å®¹å™¨å†…ç”Ÿæ•ˆï¼Œåœ¨ç™»é™† Docker å®¹å™¨å†…çš„ MySQL æ—¶ä¼šæç¤ºï¼šmysql: [Warning] World-writable config file &#39;/etc/mysql/my.cnf&#39; is ignoredã€‚è§£å†³åŠæ³•æ˜¯ä¿®æ”¹å®¿ä¸»æœºä¸Šä¸»ä»çš„ my.cnf æƒé™ä¸ºæ›´ä½çš„ 644ï¼š
...</p>
  </div>
  <footer class="entry-footer"><span title='2025-12-30 22:19:00 +0800 CST'>December 30, 2025</span>&nbsp;Â·&nbsp;2 min</footer>
  <a class="entry-link" aria-label="post link to Docker å®¹å™¨ä¸‹çš„ MySQL ä¸»ä»åŒæ­¥" href="https://zjxjwxk.github.io/posts/%E6%95%B0%E6%8D%AE%E5%BA%93/mysql/docker-%E5%AE%B9%E5%99%A8%E4%B8%8B%E7%9A%84-mysql-%E4%B8%BB%E4%BB%8E%E5%90%8C%E6%AD%A5/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kafka Administration
    </h2>
  </header>
  <div class="entry-content">
    <p>TrustStore and KeyStore in Kafka We need to have a secure deployment and encrypted communication on each of these four types of arrows.
Nowadays, the TLS is mostly used to secure a connection via a CA (Certificate Authority):
CA (Certificate Authority): The CA can sign other entities certificates. Client: The client put certificates in the Trust Store and doesnâ€™t hold keys. Server: The server puts certificates, public keys, and private keys in the Key Store. ...</p>
  </div>
  <footer class="entry-footer"><span title='2025-03-16 13:29:00 +0800 CST'>March 16, 2025</span>&nbsp;Â·&nbsp;10 min</footer>
  <a class="entry-link" aria-label="post link to Kafka Administration" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/7-kafka-administration/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kafka Stream
    </h2>
  </header>
  <div class="entry-content">
    <p>Microservices with Kafka To understand the logic behind doing microservices with Kafka, I believe it is important to take a smaller tour of how databases work. The engine uses a file called the writeâ€‘ahead log, or WAL. First, it writes the operation to the WAL. Then, it executes operations on the tables and indexes to reflect what the WAL said they should look like.
We have normally two types of microservices:
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-12-22 20:06:00 +0800 CST'>December 22, 2024</span>&nbsp;Â·&nbsp;11 min</footer>
  <a class="entry-link" aria-label="post link to Kafka Stream" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/6-kafka-stream/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kafka Connect
    </h2>
  </header>
  <div class="entry-content">
    <p>ETL with Apache Kafka One important statement is that Kafka Connect is not an ETL(Extract, Load, Transform) solution itself, it only connects.
But with the help of the correct plugins it can have some ETL capabilities.
Connectors Source Connectors: Transfer data from a Source to Kafka. Sink Connectors: Transfer data from Kafka to a Sink. You can search through all of the connectors at thre registry: https://www.confluent.io/product/connectors.
Standalone vs. Distributed ...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-23 16:44:00 +0800 CST'>November 23, 2024</span>&nbsp;Â·&nbsp;11 min</footer>
  <a class="entry-link" aria-label="post link to Kafka Connect" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/5-kafka-connect/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kafka Consumer
    </h2>
  </header>
  <div class="entry-content">
    <p>Kafka Consumer Group Consumers are typically done as a group. A single consumer will end up inefficient with large amounts of data. A consumer may never catch up. Every consumer should be on itâ€™s own machine, instance, pod. The consumer group ID is the key so Kafka knows that messages should be distributed to both consumers without duplicating.
If we add one more consumer to this group, the last one will be idle, because one partition canâ€™t be share across consumers. One partition can only be assigned to one consumer. Instead, the partitions are the way of Kafka to scale. More partitions imply you can have more consumers in the same consumer group.
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-18 18:41:00 +0800 CST'>November 18, 2024</span>&nbsp;Â·&nbsp;10 min</footer>
  <a class="entry-link" aria-label="post link to Kafka Consumer" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/4-kafka-conumers/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Kafka Producer
    </h2>
  </header>
  <div class="entry-content">
    <p>Kafka Producer Overview Demo: Producing Messages with Kafka CLI Run Kafka Containers Create a docker-compose file docker-compose.yaml containing three Zookeepers, three Kafka Brokers, and a Kafka REST Proxy:
--- version: &#39;3&#39; services: zookeeper-1: image: confluentinc/cp-zookeeper:7.4.1 hostname: zookeeper-1 container_name: zookeeper-1 volumes: - ./zookeeper-1_data:/var/lib/zookeeper/data - ./zookeeper-1_log:/var/lib/zookeeper/log environment: ZOOKEEPER_CLIENT_PORT: 2181 ZOOKEEPER_TICK_TIME: 2000 ZOO_MY_ID: 1 ZOO_SERVERS: server.1=zookeeper-1:2888:3888;2181 server.2=zookeeper-2:2888:3888;2181 server.3=zookeeper-3:2888:3888;2181 zookeeper-2: image: confluentinc/cp-zookeeper:7.4.1 hostname: zookeeper-2 container_name: zookeeper-2 volumes: - ./zookeeper-2_data:/var/lib/zookeeper/data - ./zookeeper-2_log:/var/lib/zookeeper/log environment: ZOOKEEPER_CLIENT_PORT: 2181 ZOOKEEPER_TICK_TIME: 2000 ZOO_MY_ID: 2 ZOO_SERVERS: server.1=zookeeper-1:2888:3888;2181 server.2=zookeeper-2:2888:3888;2181 server.3=zookeeper-3:2888:3888;2181 zookeeper-3: image: confluentinc/cp-zookeeper:7.4.1 hostname: zookeeper-3 container_name: zookeeper-3 volumes: - ./zookeeper-3_data:/var/lib/zookeeper/data - ./zookeeper-3_log:/var/lib/zookeeper/log environment: ZOOKEEPER_CLIENT_PORT: 2181 ZOOKEEPER_TICK_TIME: 2000 ZOO_MY_ID: 3 ZOO_SERVERS: server.1=zookeeper-1:2888:3888;2181 server.2=zookeeper-2:2888:3888;2181 server.3=zookeeper-3:2888:3888;2181 broker-1: image: confluentinc/cp-kafka:7.4.1 hostname: broker-1 container_name: broker-1 volumes: - ./broker-1-data:/var/lib/kafka/data depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 ports: - 9092:9092 - 29092:29092 environment: KAFKA_BROKER_ID: 1 KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181 KAFKA_ADVERTISED_LISTENERS: HOST://localhost:9092,INTERNAL://broker-1:29092 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: HOST:PLAINTEXT,INTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL KAFKA_SNAPSHOT_TRUST_EMPTY: true broker-2: image: confluentinc/cp-kafka:7.4.1 hostname: broker-2 container_name: broker-2 volumes: - ./broker-2-data:/var/lib/kafka/data depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 - broker-1 ports: - 9093:9093 - 29093:29093 environment: KAFKA_BROKER_ID: 2 KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181 KAFKA_ADVERTISED_LISTENERS: HOST://localhost:9093,INTERNAL://broker-2:29093 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: HOST:PLAINTEXT,INTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL KAFKA_SNAPSHOT_TRUST_EMPTY: true broker-3: image: confluentinc/cp-kafka:7.4.1 hostname: broker-3 container_name: broker-3 volumes: - ./broker-3-data:/var/lib/kafka/data depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 - broker-1 - broker-2 ports: - 9094:9094 - 29094:29094 environment: KAFKA_BROKER_ID: 3 KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181 KAFKA_ADVERTISED_LISTENERS: HOST://localhost:9094,INTERNAL://broker-3:29094 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: HOST:PLAINTEXT,INTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL KAFKA_SNAPSHOT_TRUST_EMPTY: true rest-proxy: image: confluentinc/cp-kafka-rest:7.4.1 ports: - &#34;8082:8082&#34; depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 - broker-1 - broker-2 - broker-3 hostname: rest-proxy container_name: rest-proxy environment: KAFKA_REST_HOST_NAME: rest-proxy KAFKA_REST_BOOTSTRAP_SERVERS: &#39;broker-1:29092,broker-2:29093,broker-3:29094&#39; KAFKA_REST_LISTENERS: &#34;http://0.0.0.0:8082&#34; Run composed containers:
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-17 01:47:59 +0800 CST'>November 17, 2024</span>&nbsp;Â·&nbsp;5 min</footer>
  <a class="entry-link" aria-label="post link to Kafka Producer" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/3-kafka-producer/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Meet Kafka
    </h2>
  </header>
  <div class="entry-content">
    <p>Kafka Architecture Kafka Message Deploy Kafka Create a docker-compose file docker-compose.yaml containing three Zookeepers, three Kafka Brokers, and a Kafka REST Proxy:
--- version: &#39;3&#39; services: zookeeper-1: image: confluentinc/cp-zookeeper:7.4.1 hostname: zookeeper-1 container_name: zookeeper-1 volumes: - ./zookeeper-1_data:/var/lib/zookeeper/data - ./zookeeper-1_log:/var/lib/zookeeper/log environment: ZOOKEEPER_CLIENT_PORT: 2181 ZOOKEEPER_TICK_TIME: 2000 ZOO_MY_ID: 1 ZOO_SERVERS: server.1=zookeeper-1:2888:3888;2181 server.2=zookeeper-2:2888:3888;2181 server.3=zookeeper-3:2888:3888;2181 zookeeper-2: image: confluentinc/cp-zookeeper:7.4.1 hostname: zookeeper-2 container_name: zookeeper-2 volumes: - ./zookeeper-2_data:/var/lib/zookeeper/data - ./zookeeper-2_log:/var/lib/zookeeper/log environment: ZOOKEEPER_CLIENT_PORT: 2181 ZOOKEEPER_TICK_TIME: 2000 ZOO_MY_ID: 2 ZOO_SERVERS: server.1=zookeeper-1:2888:3888;2181 server.2=zookeeper-2:2888:3888;2181 server.3=zookeeper-3:2888:3888;2181 zookeeper-3: image: confluentinc/cp-zookeeper:7.4.1 hostname: zookeeper-3 container_name: zookeeper-3 volumes: - ./zookeeper-3_data:/var/lib/zookeeper/data - ./zookeeper-3_log:/var/lib/zookeeper/log environment: ZOOKEEPER_CLIENT_PORT: 2181 ZOOKEEPER_TICK_TIME: 2000 ZOO_MY_ID: 3 ZOO_SERVERS: server.1=zookeeper-1:2888:3888;2181 server.2=zookeeper-2:2888:3888;2181 server.3=zookeeper-3:2888:3888;2181 broker-1: image: confluentinc/cp-kafka:7.4.1 hostname: broker-1 container_name: broker-1 volumes: - ./broker-1-data:/var/lib/kafka/data depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 ports: - 9092:9092 - 29092:29092 environment: KAFKA_BROKER_ID: 1 KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181 KAFKA_ADVERTISED_LISTENERS: HOST://localhost:9092,INTERNAL://broker-1:29092 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: HOST:PLAINTEXT,INTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL KAFKA_SNAPSHOT_TRUST_EMPTY: true broker-2: image: confluentinc/cp-kafka:7.4.1 hostname: broker-2 container_name: broker-2 volumes: - ./broker-2-data:/var/lib/kafka/data depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 - broker-1 ports: - 9093:9093 - 29093:29093 environment: KAFKA_BROKER_ID: 2 KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181 KAFKA_ADVERTISED_LISTENERS: HOST://localhost:9093,INTERNAL://broker-2:29093 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: HOST:PLAINTEXT,INTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL KAFKA_SNAPSHOT_TRUST_EMPTY: true broker-3: image: confluentinc/cp-kafka:7.4.1 hostname: broker-3 container_name: broker-3 volumes: - ./broker-3-data:/var/lib/kafka/data depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 - broker-1 - broker-2 ports: - 9094:9094 - 29094:29094 environment: KAFKA_BROKER_ID: 3 KAFKA_ZOOKEEPER_CONNECT: zookeeper-1:2181 KAFKA_ADVERTISED_LISTENERS: HOST://localhost:9094,INTERNAL://broker-3:29094 KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: HOST:PLAINTEXT,INTERNAL:PLAINTEXT KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL KAFKA_SNAPSHOT_TRUST_EMPTY: true rest-proxy: image: confluentinc/cp-kafka-rest:7.4.1 ports: - &#34;8082:8082&#34; depends_on: - zookeeper-1 - zookeeper-2 - zookeeper-3 - broker-1 - broker-2 - broker-3 hostname: rest-proxy container_name: rest-proxy environment: KAFKA_REST_HOST_NAME: rest-proxy KAFKA_REST_BOOTSTRAP_SERVERS: &#39;broker-1:29092,broker-2:29093,broker-3:29094&#39; KAFKA_REST_LISTENERS: &#34;http://0.0.0.0:8082&#34; Run composed containers:
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-16 01:47:59 +0800 CST'>November 16, 2024</span>&nbsp;Â·&nbsp;7 min</footer>
  <a class="entry-link" aria-label="post link to Meet Kafka" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/2-meet-kafka/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Pub-sub System
    </h2>
  </header>
  <div class="entry-content">
    <p>We Call The entity/app creates a message, a publisher, or a producer. The entity/app consuming messages from a channel as a consumer. The system where the channels live and handle these requests as an Event Bus or, more recently, a streaming platform. The channel where messages flow as channel or topic. Definitions We say the pub-sub system is reliable when you ensure there is no message loss. Has at most one processing when you ensure there is no message duplication. And has exactly one processing when you only process a message once ensuring it wasnâ€™t lost. Of course, this is the holy grail. We Had a Ton of Other Pub/Sub Systems Before ...</p>
  </div>
  <footer class="entry-footer"><span title='2024-11-16 01:27:59 +0800 CST'>November 16, 2024</span>&nbsp;Â·&nbsp;2 min</footer>
  <a class="entry-link" aria-label="post link to Pub-sub System" href="https://zjxjwxk.github.io/posts/mq/kafka/getting-started-with-apache-kafka/1-pub-sub-system/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="next" href="https://zjxjwxk.github.io/posts/page/2/">Next&nbsp;&nbsp;Â»
    </a>
  </nav>
</footer>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://zjxjwxk.github.io/">Xinkang&#39;s Blog</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
